<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Two Rooms and a Boom â€” Prototype</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Two Rooms and a Boom</h1>
    <div id="authArea" class="auth-area">
      <button id="signInGoogleBtn">Sign in with Google</button>
      <button id="signInAnonBtn">Play Anonymously</button>
      <div id="userInfo" style="display:none">
        <span id="userLabel"></span>
        <button id="signOutBtn">Sign out</button>
      </div>
    </div>
  </header>

  <main>
    <section class="lobby">
      <div class="name-select" id="nameSelect">
        <input id="playerNameInput" placeholder="Choose display name" />
        <button id="joinBtn">Join Game</button>
        <button id="leaveBtn" style="display:none">Leave</button>
      </div>

      <div class="rooms">
        <div class="room" id="roomA">
          <div class="room-header">
            <h2>Room A</h2>
            <div class="leader-label" id="leaderA">Leader: (none)</div>
            <div class="hostage-label" id="hostageA">Hostage: (none)</div>
          </div>
          <div class="players" id="playersA"></div>
        </div>

        <div class="room" id="roomB">
          <div class="room-header">
            <h2>Room B</h2>
            <div class="leader-label" id="leaderB">Leader: (none)</div>
            <div class="hostage-label" id="hostageB">Hostage: (none)</div>
          </div>
          <div class="players" id="playersB"></div>
        </div>
      </div>
    </section>

    <section class="controls">
      <div class="panel chat">
        <h3>Messages & Inbox</h3>
        <div id="messages" class="messages"></div>
        <div class="chat-controls">
          <input id="chatInput" placeholder="Type a message" />
          <button id="sendBtn">Send</button>
        </div>
      </div>

      <div class="panel actions">
        <h3>Game Actions</h3>
        <div class="action-row">
          <button id="seedRolesBtn">Seed Roles (host)</button>
          <button id="tallyVotesBtn">Tally Votes</button>
        </div>
        <div class="action-row">
          <button id="startRoundBtn">Start Round</button>
          <button id="stopRoundBtn">Stop Round</button>
        </div>
        <div class="action-row">
          <button id="exchangeBtn">Execute Exchange (leader only)</button>
        </div>
        <div class="note">Click a player card to open actions (vote, private message, private reveal, mark hostage).</div>
      </div>

      <div class="panel round">
        <h3>Round</h3>
        <div>Timer: <span id="timer">180</span>s</div>
        <div id="phase">Phase: idle</div>
        <div id="roundHost">Host: (none)</div>
      </div>
    </section>
  </main>

  <!-- Action menu -->
  <div id="actionMenu" class="action-menu" style="display:none">
    <div id="actionMenuTitle"></div>
    <button id="menuVote">Vote for leader</button>
    <button id="menuPrivateMsg">Private message</button>
    <button id="menuRevealColor">Reveal color (private)</button>
    <button id="menuRevealRole">Reveal role (private)</button>
    <button id="menuMarkHostage">Mark/unmark hostage</button>
    <button id="menuClose">Close</button>
  </div>

  <!-- Modal overlay -->
  <div id="modalOverlay" class="modal-overlay" style="display:none">
    <div class="modal">
      <h3 id="modalTitle"></h3>
      <div id="modalBody"></div>
      <div class="modal-actions">
        <button id="modalCancel">Cancel</button>
        <button id="modalConfirm">Confirm</button>
      </div>
    </div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>
